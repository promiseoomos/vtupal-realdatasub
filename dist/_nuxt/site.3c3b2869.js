import{_ as S}from"./WelcomeBaseAdmin.8c765268.js";import{q as V,e as N,r,M as q,f as U,a as p,h as B,b as s,w as D,i as c,v as _,u as e,j as h,k as v,t as x,l as M,o as f}from"./entry.a5fcd4f4.js";import"./ModalBase.57ba2d8e.js";const T={class:"text-left p-3 bg-white rounded-md"},E=["onSubmit"],L={class:"mt-3"},j=s("label",{class:"block mb-3 pl-2 font-medium text-lg",for:"first_name"},"First Name:",-1),z={class:"mt-3"},C=s("label",{class:"block mb-3 pl-2 font-medium text-lg",for:"last_name"},"Last Name:",-1),H={class:"mt-3"},O=s("label",{class:"block mb-3 pl-2 font-medium text-lg",for:"email"},"Email:",-1),P={class:"mt-3"},$=s("label",{class:"block mb-3 pl-2 font-medium text-lg",for:"site_name"},"Site Name:",-1),A={class:"mt-3"},F=s("label",{class:"block mb-3 pl-2 font-medium text-lg",for:"phone"},"Phone:",-1),K={key:0,class:""},W=["innerHTML"],G={key:0},I={class:"text-center p-2 mt-3"},J=["disabled"],Q={key:0,class:"animate-spin h-7 w-7 -mb-2 mr-3 pt-2 border-r-2 border-b-2 border-l-2 border-whtie rounded-full inline-block"},ee={__name:"site",setup(R){V();const n=N(),t=r({first_name:"",last_name:"",phone:"",email:"",site_name:"",track_id:""});t.value.first_name=n.details.first_name,t.value.last_name=n.details.last_name,t.value.email=n.details.email,t.value.phone=n.details.phone,t.value.site_name=n.details.site_name;let d=r({}),g=r(!1);r([]),r(!1),r(!1),r(!0),r("");let m=r(!1);const o=q({userphoneerror:!1,userphoneerrormsg:"",useraccterror:!1,useraccterrormsg:""});function y(){let i=t.value.phone;var a=/[a-z]+/i;a.test(i)||i.length!=11?(o.userphoneerror=!0,o.userphoneerrormsg="<ul class='text-red-500'><li>Only numeric characters required</li><li>Number must be 11 digits</li></ul>"):(o.userphoneerror=!1,o.userphoneerrormsg="")}const b=U(()=>u.value==!0||t.value.first_name.length<=0||t.value.last_name.length<=0||t.value.email.length<=0||t.value.phone.length<=0||o.userphoneerror==!0);let u=r(!1);async function k(){g.value=!1,u.value=!0;try{return await n.updateSiteDetails(t.value).then(i=>{u.value=!1,d.value=i,g.value=!0,m.value=!1,n.getSiteDetails()})}catch(i){u.value=!1,m.value=!0,d.value=i}}return(i,a)=>{const w=S;return f(),p("div",null,[B(w),s("div",T,[s("form",{onSubmit:D(k,["prevent"])},[s("div",L,[j,c(s("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>e(t).first_name=l),class:"p-3 caret-green-300 rounded-md w-full ring-0 bg-gray-200",id:"first_name",name:"first_name",type:"text",required:"",placeholder:""},null,512),[[_,e(t).first_name]])]),s("div",z,[C,c(s("input",{"onUpdate:modelValue":a[1]||(a[1]=l=>e(t).last_name=l),class:"p-3 rounded-md w-full ring-0 bg-gray-200",id:"last_name",name:"last_name",type:"text",required:"",placeholder:""},null,512),[[_,e(t).last_name]])]),s("div",H,[O,c(s("input",{disabled:"","onUpdate:modelValue":a[2]||(a[2]=l=>e(t).email=l),class:"p-3 rounded-md w-full ring-0 bg-gray-200",id:"email",name:"email",type:"email",required:"",placeholder:"example@gmail.com"},null,512),[[_,e(t).email]])]),s("div",P,[$,c(s("input",{"onUpdate:modelValue":a[3]||(a[3]=l=>e(t).site_name=l),class:"p-3 caret-green-300 rounded-md w-full ring-0 bg-gray-200",id:"site_name",name:"site_name",type:"text",required:"",placeholder:""},null,512),[[_,e(t).site_name]])]),s("div",A,[F,c(s("input",{"onUpdate:modelValue":a[4]||(a[4]=l=>e(t).phone=l),onKeyup:a[5]||(a[5]=l=>y()),class:"p-3 rounded-md w-full ring-0 bg-gray-200",id:"phone",name:"phone",type:"text",required:"",placeholder:"08020000300"},null,544),[[_,e(t).phone]]),e(o).userphoneerror?(f(),p("div",K,[s("p",{innerHTML:e(o).userphoneerrormsg},null,8,W)])):h("",!0)]),e(g)||e(m)?(f(),p("div",{key:0,class:v([{"bg-green-300/[.6] text-green-800":e(d).status,"bg-red-400/[.40] text-red-900":!e(d).status||e(m)},"p-3 mt-3 text-left rounded-md"])},[s("p",null,x(e(d).message),1),e(m)?(f(),p("p",G,x(e(d)),1)):h("",!0)],2)):h("",!0),s("div",I,[s("button",{type:"submit",disabled:e(b),class:v([{"opacity-50":e(b)},"p-2 bg-[#0f8B8D] w-1/2 text-white rounded-md font-bold text-lg hover:bg-[#0a5556]"])},[e(u)?(f(),p("span",Q)):h("",!0),M(" Update Profile ")],10,J)])],40,E)])])}}};export{ee as default};
